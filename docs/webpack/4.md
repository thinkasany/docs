# **webpack_require**

[知乎](https://zhuanlan.zhihu.com/p/373946949)

- `__webpack_require__.cache` => 缓存模块
- `__webpack_require__.m` => 要加载的模块
- `__webpack_require__.r` => 标记为es模块
- `__webpack_require__.d` => 提供getter给导出的方法、变量
- `__webpack_require__.e` => 异步加载多个模块(promise.all)
- `__webpack_require__.f` => 为e函数提供中间件能力
- `__webpack_require__.u` => 用于拼接异步模块名称的函数
- `__webpack_require__.l` => 基于 JSONP 实现的异步模块加载函数
- `__webpack_require__.p` => 当前文件的完整 URL，可用于计算异步模块的实际 URL

## **webpack_require**

```js
// The module cache
var __webpack_module_cache__ = {};

// The require function
function __webpack_require__(moduleId) {
  // Check if module is in cache
  var cachedModule = __webpack_module_cache__[moduleId];
  // 先从缓存模块中读取模块id，存在的话直接return，没有的话就对应创建
  if (cachedModule !== undefined) {
    return cachedModule.exports;
  }
  // Create a new module (and put it into the cache)
  var module = (__webpack_module_cache__[moduleId] = {
    id: moduleId,
    // no module.loaded needed
    exports: {}
  });

  // Execute the module function
  __webpack_modules__[moduleId](module, module.exports, __webpack_require__);

  // Return the exports of the module
  return module.exports;
}
```

## **webpack_require**.e

```js
__webpack_require__.e = chunkId => {
  return Promise.all(
    Object.keys(__webpack_require__.f).reduce((promises, key) => {
      __webpack_require__.f[key](chunkId, promises);
      return promises;
    }, [])
  );
};
```

## **webpack_require**.u

```js
(() => {
  // This function allow to reference async chunks
  __webpack_require__.u = chunkId => {
    // return url for filenames based on template
    return 'asset_' + chunkId + '.js';
  };
})();
```

<!--  -->
